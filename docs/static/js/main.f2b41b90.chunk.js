(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{25:function(e,t,a){},31:function(e,t,a){},38:function(e,t,a){},47:function(e,t,a){e.exports=a(98)},52:function(e,t,a){},53:function(e,t,a){},93:function(e,t,a){},98:function(e,t,a){"use strict";a.r(t);var n,r,o=a(0),c=a.n(o),i=a(39),s=a.n(i),u=(a(52),a(6)),l=a(7),d=a(11),m=a(10),h=(a(53),a(15)),f=a(112),p=a(113),v=a(114),y=a(99),E=(a(31),function(e){var t=e.city;return c.a.createElement("div",{className:"locationContainer"},c.a.createElement("h1",null,t.split(",")[0]))}),w=a(3),b=a(18),j=a.n(b),O=(a(25),n={},Object(w.a)(n,"cloud","cloud"),Object(w.a)(n,"sun","day-sunny"),Object(w.a)(n,"rain","rain"),Object(w.a)(n,"snow","snow"),Object(w.a)(n,"thunder","day-thunderstorm"),Object(w.a)(n,"drizzle","day-showers"),n),g=function(e){var t=e.temperature,a=e.weatherState;return c.a.createElement("div",{className:"weatherTemperatureContainer"},function(e){var t=O[e];return t?c.a.createElement(j.a,{className:"wicon",name:t,size:"4x"}):c.a.createElement(j.a,{className:"wicon",name:"meteor",size:"4x"})}(a),c.a.createElement("span",{className:"temperature"}," ".concat(t)),c.a.createElement("span",{className:"temperatureType"}," \xbaC"))},x=function(e){var t=e.humidity,a=e.wind;return c.a.createElement("div",{className:"weatherExtraInfoContainer"},c.a.createElement("span",{className:"extraInfoText"},"Humedad: ".concat(t,"%")),c.a.createElement("span",{className:"extraInfoText"},"Vientos: ".concat(a)))},k=function(e){var t=e.data,a=t.temperature,n=t.weatherState,r=t.humidity,o=t.wind;return c.a.createElement("div",{className:"weatherDataContainer"},c.a.createElement(g,{temperature:a,weatherState:n}),c.a.createElement(x,{humidity:r,wind:o}))},C=a(40),D=a.n(C),I=function(e){var t,a=e.main,n=a.temp,r=a.humidity,o=(t=n,Number(D()(t).from("K").to("C").toFixed(0))),c=function(e){var t=e.id;return t<300?"thunder":t<400?"drizzle":t<600?"rain":t<700?"snow":800===t?"sun":"cloud"}(e.weather[0]),i=e.wind.speed;return{temperature:o,weatherState:c,humidity:r,wind:"".concat(i," m/s")}},S="f99bbd9e4959b513e9bd0d7f7356b38d",N=function(e){return"".concat("https://api.openweathermap.org/data/2.5/weather","?q=").concat(e,"&appid=").concat(S)},L=(a(93),r={},Object(w.a)(r,"sun","day-sunny"),Object(w.a)(r,"cloud","cloud"),Object(w.a)(r,"snow","snow"),Object(w.a)(r,"rain","rain"),Object(w.a)(r,"thunder","day-thunderstorm"),Object(w.a)(r,"drizzle","day-showers"),r),z=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).GenerateNextIcon=function(){var e=n.state.currentIconPos;++e>Object.keys(L).length-1&&(e=0),n.setState({currentIconPos:e})},n.GetCurrentIcon=function(){var e=n.state.currentIconPos,t=n.props.size,a=void 0===t?"4x":t,r=L[Object.keys(L)[e]];return c.a.createElement(j.a,{className:"wicon",name:r,size:a})},n.state={currentIconPos:0,intervalID:0},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=setInterval(this.GenerateNextIcon,150);this.setState({intervalID:e})}},{key:"componentWillUnmount",value:function(){clearInterval(this.state.intervalID)}},{key:"shouldComponentUpdate",value:function(e,t){return t.currentIconPos!==this.state.currentIconPos}},{key:"render",value:function(){return c.a.createElement("div",{className:"myWeatherProgressIndicator"},this.GetCurrentIcon())}}]),a}(c.a.Component),W=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;Object(u.a)(this,a),(n=t.call(this,e)).getData=function(){var e=n.state.city;fetch(N(e)).then((function(e){return e.json()})).then((function(e){e&&e.cod&&200===e.cod?n.setState({data:I(e)}):console.log("WeatherLocation: Se produjo un error al obtener datos del servidor.",e&&e.message&&e.message)})).catch((function(e){return console.log("WeatherLocation: Se produjo un error al obtener datos del servidor:",e)}))};var r=e.city;return n.state={city:r,data:null},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){var e=this.state,t=e.city,a=e.data;return c.a.createElement("div",{className:"weatherLocationContainer",onClick:this.props.onWeatherLocationClick},c.a.createElement(E,{city:t}),a?c.a.createElement(k,{data:a}):c.a.createElement(z,null))}}]),a}(o.Component),P=(a(38),function(e){var t=e.cities,a=e.onSelectedLocation;return c.a.createElement("div",{className:"locationList"},t.map((function(e){return c.a.createElement(W,{key:e,city:e,onWeatherLocationClick:function(){a(e)}})})))}),T=function(e){var t=e.weekDay,a=e.hour,n=e.data;return c.a.createElement("div",null,c.a.createElement("h2",null,t," - ",a," hs"),c.a.createElement(k,{data:n}))},B=a(13),F=a.n(B),G=(a(95),function(e){return e.list.filter((function(e){return 6===F.a.unix(e.dt).hour()||12===F.a.unix(e.dt).hour()||18===F.a.unix(e.dt).hour()})).map((function(e){return{weekDay:F.a.unix(e.dt).format("ddd"),hour:F.a.unix(e.dt).hour(),data:I(e)}}))}),M=function(e){return"".concat("https://api.openweathermap.org/data/2.5/forecast","?q=").concat(e,"&appid=").concat(S)},A=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={forecastData:null},e.getDataByCity=function(t){fetch(M(t)).then((function(e){return e.json()})).then((function(t){if(t&&t.cod&&"200"===t.cod){var a=G(t);e.setState({forecastData:a})}else console.log("ForecastExtended -> getData(): Se produjo un error al obtener datos del servidor.",t&&t.message&&t.message)})).catch((function(e){return console.log("ForecastExtended -> getData(): Se produjo un error al obtener datos del servidor:",e)}))},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.getDataByCity(this.props.city)}},{key:"render",value:function(){var e=this.props.city,t=this.state.forecastData;return c.a.createElement("div",null,c.a.createElement("h2",{className:"forecastExtendedTitle"},"Pron\xf3stico extendido: ",e.split(",")[0]),t?this.renderForecastItemDays(t):c.a.createElement(z,{size:"2x"}))}},{key:"renderForecastItemDays",value:function(e){return e.map((function(e){var t=e.weekDay,a=e.hour,n=e.data;return c.a.createElement(T,{key:t+a,weekDay:t,hour:a,data:n})}))}}]),a}(o.PureComponent),q=a(45),J=function(){var e=Object(o.useState)((new Date).toLocaleTimeString()),t=Object(q.a)(e,2),a=t[0],n=t[1];return Object(o.useEffect)((function(){var e=setInterval((function(){n((new Date).toLocaleTimeString())}),1e3);return function(){return clearInterval(e)}}),[a]),c.a.createElement("div",null,a)},R=["Buenos Aires,ar","Bogota,col","Mexico,mex","Washington,us","Barcelona,es","Santiago,cl","Madrid,es","Lima,pe"],U=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handleSelectedLocation=function(e){n.setState({selectedCity:e})},n.state={selectedCity:null},n}return Object(l.a)(a,[{key:"render",value:function(){var e=this.state.selectedCity;return c.a.createElement(c.a.Fragment,null,c.a.createElement(h.Grid,null,c.a.createElement(h.Row,null,c.a.createElement(f.a,{position:"sticky"},c.a.createElement(p.a,null,c.a.createElement(v.a,{variant:"h4",color:"inherit",style:{flexGrow:1}},"Weather App"),c.a.createElement(J,null)))),c.a.createElement(h.Row,null,c.a.createElement(h.Col,{xs:12,md:6},c.a.createElement(P,{cities:R,onSelectedLocation:this.handleSelectedLocation})),c.a.createElement(h.Col,{xs:12,md:6},c.a.createElement(y.a,{elevation:4},c.a.createElement("div",{className:"details"},e?c.a.createElement(A,{key:e,city:e}):c.a.createElement("h4",{className:"forecastExtendedTitle"},"Seleccione una ciudad para ver el pron\xf3stico extendido")))))))}}]),a}(o.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(c.a.createElement(U,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[47,1,2]]]);
//# sourceMappingURL=main.f2b41b90.chunk.js.map