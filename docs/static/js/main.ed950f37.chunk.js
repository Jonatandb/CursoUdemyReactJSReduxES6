(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{25:function(e,t,a){},31:function(e,t,a){},38:function(e,t,a){},46:function(e,t,a){e.exports=a(97)},51:function(e,t,a){},52:function(e,t,a){},59:function(e,t,a){},97:function(e,t,a){"use strict";a.r(t);var n,r=a(0),o=a.n(r),c=a(39),i=a.n(c),s=(a(51),a(6)),u=a(7),l=a(11),d=a(10),m=(a(52),a(15)),h=a(111),f=a(112),p=a(113),v=a(98),y=(a(31),function(e){var t=e.city;return o.a.createElement("div",{className:"locationContainer"},o.a.createElement("h1",null,t.split(",")[0]))}),E=a(3),w=a(18),b=a.n(w),j=(a(25),n={},Object(E.a)(n,"cloud","cloud"),Object(E.a)(n,"sun","day-sunny"),Object(E.a)(n,"rain","rain"),Object(E.a)(n,"snow","snow"),Object(E.a)(n,"thunder","day-thunderstorm"),Object(E.a)(n,"drizzle","day-showers"),n),O=function(e){var t=e.temperature,a=e.weatherState;return o.a.createElement("div",{className:"weatherTemperatureContainer"},function(e){var t=j[e];return t?o.a.createElement(b.a,{className:"wicon",name:t,size:"4x"}):o.a.createElement(b.a,{className:"wicon",name:"meteor",size:"4x"})}(a),o.a.createElement("span",{className:"temperature"}," ".concat(t)),o.a.createElement("span",{className:"temperatureType"}," \xbaC"))},g=function(e){var t=e.humidity,a=e.wind;return o.a.createElement("div",{className:"weatherExtraInfoContainer"},o.a.createElement("span",{className:"extraInfoText"},"Humedad: ".concat(t,"%")),o.a.createElement("span",{className:"extraInfoText"},"Vientos: ".concat(a)))},k=function(e){var t=e.data,a=t.temperature,n=t.weatherState,r=t.humidity,c=t.wind;return o.a.createElement("div",{className:"weatherDataContainer"},o.a.createElement(O,{temperature:a,weatherState:n}),o.a.createElement(g,{humidity:r,wind:c}))},x=(a(59),function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n,r;return Object(s.a)(this,a),(r=t.call(this,e)).GenerateNextIcon=function(){var e=r.state,t=e.currentIconPos,a=e.icons,n=t;++n>Object.keys(a).length-1&&(n=0),r.setState({currentIconPos:n})},r.GetCurrentIcon=function(){var e=r.state,t=e.currentIconPos,a=e.icons,n=r.props.size,c=a[Object.keys(a)[t]];return o.a.createElement(b.a,{className:"wicon",name:c,size:n})},r.state={currentIconPos:0,intervalID:0,icons:(n={},Object(E.a)(n,"sun","day-sunny"),Object(E.a)(n,"cloud","cloud"),Object(E.a)(n,"snow","snow"),Object(E.a)(n,"rain","rain"),Object(E.a)(n,"thunder","day-thunderstorm"),Object(E.a)(n,"drizzle","day-showers"),n)},r}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=setInterval(this.GenerateNextIcon,150);this.setState({intervalID:e})}},{key:"componentWillUnmount",value:function(){clearInterval(this.state.intervalID)}},{key:"render",value:function(){return o.a.createElement("div",{className:"myWeatherProgressIndicator"},this.GetCurrentIcon())}}]),a}(o.a.Component)),D=a(40),C=a.n(D),I=function(e){var t,a=e.main,n=a.temp,r=a.humidity,o=(t=n,Number(C()(t).from("K").to("C").toFixed(0))),c=function(e){var t=e.id;return t<300?"thunder":t<400?"drizzle":t<600?"rain":t<700?"snow":800===t?"sun":"cloud"}(e.weather[0]),i=e.wind.speed;return{temperature:o,weatherState:c,humidity:r,wind:"".concat(i," m/s")}},N="f99bbd9e4959b513e9bd0d7f7356b38d",S=function(e){return"".concat("https://api.openweathermap.org/data/2.5/weather","?q=").concat(e,"&appid=").concat(N)},z=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;Object(s.a)(this,a),(n=t.call(this,e)).getData=function(){var e=n.state.city;fetch(S(e)).then((function(e){return e.json()})).then((function(e){e&&e.cod&&200===e.cod?n.setState({data:I(e)}):console.log("WeatherLocation: Se produjo un error al obtener datos del servidor.",e&&e.message&&e.message)})).catch((function(e){return console.log("WeatherLocation: Se produjo un error al obtener datos del servidor:",e)}))};var r=e.city;return n.state={city:r,data:null},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){var e=this.state,t=e.city,a=e.data;return o.a.createElement("div",{className:"weatherLocationContainer",onClick:this.props.onWeatherLocationClick},o.a.createElement(y,{city:t}),a?o.a.createElement(k,{data:a}):o.a.createElement(x,{size:"2x"}))}}]),a}(r.Component),L=(a(38),function(e){var t=e.cities,a=e.onSelectedLocation;return o.a.createElement("div",{className:"locationList"},t.map((function(e){return o.a.createElement(z,{key:e,city:e,onWeatherLocationClick:function(){a(e)}})})))}),W=function(e){var t=e.weekDay,a=e.hour,n=e.data;return o.a.createElement("div",null,o.a.createElement("h2",null,t," - ",a," hs"),o.a.createElement(k,{data:n}))},B=a(13),F=a.n(B),P=(a(94),function(e){return e.list.filter((function(e){return 6===F.a.unix(e.dt).hour()||12===F.a.unix(e.dt).hour()||18===F.a.unix(e.dt).hour()})).map((function(e){return{weekDay:F.a.unix(e.dt).format("ddd"),hour:F.a.unix(e.dt).hour(),data:I(e)}}))}),G=function(e){return"".concat("https://api.openweathermap.org/data/2.5/forecast","?q=").concat(e,"&appid=").concat(N)},M=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).getDataByCity=function(e){fetch(G(e)).then((function(e){return e.json()})).then((function(e){if(e&&e.cod&&"200"===e.cod){var t=P(e);n.setState({forecastData:t})}else console.log("ForecastExtended -> getData(): Se produjo un error al obtener datos del servidor.",e&&e.message&&e.message)})).catch((function(e){return console.log("ForecastExtended -> getData(): Se produjo un error al obtener datos del servidor:",e)}))},n.state={forecastData:null},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.getDataByCity(this.props.city)}},{key:"componentDidUpdate",value:function(e,t){var a=this.props.city;e.city!==a&&(this.setState({forecastData:null}),this.getDataByCity(a))}},{key:"renderForecastItemDays",value:function(e){return e.map((function(e){var t=e.weekDay,a=e.hour,n=e.data;return o.a.createElement(W,{key:t+a,weekDay:t,hour:a,data:n})}))}},{key:"render",value:function(){var e=this.props.city,t=this.state.forecastData;return o.a.createElement("div",null,o.a.createElement("h2",{className:"forecastExtendedTitle"},"Pron\xf3stico extendido: ",e.split(",")[0]),t?this.renderForecastItemDays(t):o.a.createElement(x,{size:"2x"}))}}]),a}(r.Component),T=["Buenos Aires,ar","Bogota,col","Mexico,mex","Washington,us","Barcelona,es","Santiago,cl","Madrid,es","Lima,pe"],q=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).handleSelectedLocation=function(e){n.setState({city:e})},n.state={city:null},n}return Object(u.a)(a,[{key:"render",value:function(){var e=this.state.city;return o.a.createElement(o.a.Fragment,null,o.a.createElement(m.Grid,null,o.a.createElement(m.Row,null,o.a.createElement(h.a,{position:"sticky"},o.a.createElement(f.a,null,o.a.createElement(p.a,{variant:"h4",color:"inherit"},"Weather App")))),o.a.createElement(m.Row,null,o.a.createElement(m.Col,{xs:12,md:6},o.a.createElement(L,{cities:T,onSelectedLocation:this.handleSelectedLocation})),o.a.createElement(m.Col,{xs:12,md:6},o.a.createElement(v.a,{elevation:4},o.a.createElement("div",{className:"details"},e&&o.a.createElement(M,{city:e})))))))}}]),a}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(q,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[46,1,2]]]);
//# sourceMappingURL=main.ed950f37.chunk.js.map